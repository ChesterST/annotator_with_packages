{"ast":null,"code":"import ExportAnnotations from \"./ExportAnnotations.vue\";\nimport { mapState, mapMutations } from \"vuex\";\nimport { exportFile } from \"./utils\";\nimport useQuasar from 'quasar/src/composables/use-quasar.js';\n;\nimport AboutDialog from \"../AboutDialog.vue\";\nimport ExitDialog from \"../ExitDialog.vue\";\nexport default {\n  components: {\n    ExportAnnotations,\n    AboutDialog,\n    ExitDialog\n  },\n  name: \"MenuBar\",\n  setup() {\n    const $q = useQuasar();\n    return {\n      notify(icon, message, level) {\n        $q.notify({\n          icon,\n          message,\n          color: level,\n          position: \"top\",\n          timeout: 2000,\n          actions: [{\n            label: \"Dismiss\",\n            color: \"white\"\n          }]\n        });\n      }\n    };\n  },\n  data: function () {\n    return {\n      promptForProject: false,\n      newProjectName: \"\",\n      showAbout: false,\n      pendingClick: null\n    };\n  },\n  computed: {\n    ...mapState([\"annotations\", \"classes\"])\n  },\n  methods: {\n    ...mapMutations([\"loadClasses\", \"loadAnnotations\", \"setInputSentences\", \"clearAllAnnotations\", \"resetIndex\"]),\n    // Funtion that exports the tags to a JSON file\n    exportTags: async function () {\n      await exportFile(JSON.stringify(this.classes), \"tags.json\");\n    },\n    importTags: function (e) {\n      let file = e.target.files[0];\n      let filereader = new FileReader();\n      filereader.onload = ev => {\n        try {\n          this.loadClasses(JSON.parse(ev.target.result));\n          this.notify(\"fa fa-check\", `${this.classes.length} Tags imported successfully`, \"positive\");\n        } catch (e) {\n          this.notify(\"fas fa-exclamation-circle\", \"Invalid file\", \"red-6\");\n        }\n      };\n      filereader.readAsText(file);\n    },\n    openFile: function (e) {\n      let file = e.target.files[0];\n      let filereader = new FileReader();\n      filereader.onload = ev => {\n        this.setInputSentences(ev.target.result);\n        this.clearAllAnnotations();\n      };\n      filereader.readAsText(file);\n      this.resetIndex();\n    },\n    importAnnotations: function (e) {\n      let file = e.target.files[0];\n      let filereader = new FileReader();\n      filereader.onload = ev => {\n        try {\n          this.loadAnnotations(JSON.parse(ev.target.result));\n          this.notify(\"fa fa-check\", `Annotations imported successfully`, \"positive\");\n        } catch (e) {\n          this.notify(\"fas fa-exclamation-circle\", \"Invalid file\", \"red-6\");\n        }\n      };\n      filereader.readAsText(file);\n    }\n  }\n};","map":{"version":3,"names":["ExportAnnotations","mapState","mapMutations","exportFile","useQuasar","AboutDialog","ExitDialog","components","name","setup","$q","notify","icon","message","level","color","position","timeout","actions","label","data","promptForProject","newProjectName","showAbout","pendingClick","computed","methods","exportTags","JSON","stringify","classes","importTags","e","file","target","files","filereader","FileReader","onload","ev","loadClasses","parse","result","length","readAsText","openFile","setInputSentences","clearAllAnnotations","resetIndex","importAnnotations","loadAnnotations"],"sources":["C:\\Users\\Filip\\GIT_PROJECTS\\annotator_with_packages\\src\\components\\menubar\\MenuBar.vue"],"sourcesContent":["<template>\r\n  <q-header bordered>\r\n    <div class=\"q-pa-sm q-pl-md row items-center\">\r\n      <div>\r\n        <q-avatar size=\"xs\">\r\n          <img src=\"@/assets/icon_32.png\" />\r\n        </q-avatar>\r\n        <span class=\"q-ml-sm\">\r\n          <strong>\r\n            NER Annotator\r\n          </strong>\r\n        </span>\r\n      </div>\r\n      <!-- \r\n      <div class=\"cursor-pointer non-selectable\">\r\n        <span>\r\n          Project\r\n        </span>\r\n        <q-menu>\r\n          <q-list dense style=\"min-width: 100px\">\r\n            <q-item clickable v-close-popup @click=\"promptForProject = true\">\r\n              <q-item-section>New Project</q-item-section>\r\n            </q-item>\r\n            <q-item clickable v-close-popup>\r\n              <q-item-section>Open Project</q-item-section>\r\n            </q-item>\r\n            <q-item clickable v-close-popup>\r\n              <q-item-section>Save Project</q-item-section>\r\n            </q-item>\r\n\r\n            <q-separator />\r\n\r\n            <q-item clickable v-close-popup>\r\n              <q-item-section>Quit</q-item-section>\r\n            </q-item>\r\n          </q-list>\r\n        </q-menu>\r\n      </div>\r\n      -->\r\n\r\n      <div class=\"q-ml-md cursor-pointer non-selectable\">\r\n        <span>\r\n          File\r\n        </span>\r\n        <q-menu>\r\n          <q-list dense style=\"min-width: 100px\">\r\n            <q-item clickable v-close-popup @click=\"pendingClick = $refs.file\">\r\n              <q-item-section>Open File</q-item-section>\r\n              <input\r\n                @change=\"openFile\"\r\n                type=\"file\"\r\n                ref=\"file\"\r\n                accept=\".txt\"\r\n                style=\"display: none\"\r\n              />\r\n            </q-item>\r\n          </q-list>\r\n        </q-menu>\r\n      </div>\r\n\r\n      <div class=\"q-ml-md cursor-pointer non-selectable\">\r\n        <span>\r\n          Annotations\r\n        </span>\r\n        <q-menu>\r\n          <q-list dense style=\"min-width: 100px\">\r\n            <export-annotations />\r\n            <q-item clickable v-close-popup @click=\"pendingClick = $refs.file\">\r\n              <q-item-section>Import</q-item-section>\r\n              <input\r\n                @change=\"importAnnotations\"\r\n                type=\"file\"\r\n                ref=\"file\"\r\n                accept=\".json\"\r\n                style=\"display: none\"\r\n              />\r\n            </q-item>\r\n          </q-list>\r\n        </q-menu>\r\n      </div>\r\n\r\n      <div class=\"q-ml-md cursor-pointer non-selectable\">\r\n        <span>\r\n          Tags\r\n        </span>\r\n        <q-menu>\r\n          <q-list dense style=\"min-width: 100px\">\r\n            <q-item clickable v-close-popup @click=\"exportTags()\">\r\n              <q-item-section>Export</q-item-section>\r\n            </q-item>\r\n            <q-item clickable v-close-popup @click=\"$refs.file.click()\">\r\n              <q-item-section>Import</q-item-section>\r\n              <input\r\n                @change=\"importTags\"\r\n                type=\"file\"\r\n                ref=\"file\"\r\n                accept=\".json\"\r\n                style=\"display: none\"\r\n              />\r\n            </q-item>\r\n          </q-list>\r\n        </q-menu>\r\n      </div>\r\n\r\n      <q-space />\r\n\r\n      <div class=\"q-ml-md cursor-pointer non-selectable\">\r\n        <span>Help</span>\r\n\r\n        <q-menu>\r\n          <q-list dense style=\"min-width: 100px\">\r\n            <q-item\r\n              clickable\r\n              v-close-popup\r\n              href=\"https://github.com/tecoholic/ner-annotator/discussions\"\r\n              target=\"_blank\"\r\n            >\r\n              <q-item-section>\r\n                Forum\r\n              </q-item-section>\r\n            </q-item>\r\n            <q-item\r\n              clickable\r\n              v-close-popup\r\n              href=\"https://github.com/tecoholic/ner-annotator/issues\"\r\n              target=\"_blank\"\r\n            >\r\n              Report Issue\r\n            </q-item>\r\n            <q-separator />\r\n            <q-item clickable v-close-popup @click=\"showAbout = true\">\r\n              <q-item-section>About</q-item-section>\r\n            </q-item>\r\n          </q-list>\r\n        </q-menu>\r\n\r\n        <about-dialog :show=\"showAbout\" @hide=\"showAbout = false\" />\r\n      </div>\r\n    </div>\r\n  </q-header>\r\n\r\n  <q-dialog v-model=\"promptForProject\" persistent>\r\n    <q-card style=\"min-width: 350px\">\r\n      <q-card-section>\r\n        <div class=\"text-h6\">Project Name</div>\r\n      </q-card-section>\r\n\r\n      <q-card-section class=\"q-pt-none\">\r\n        <q-input\r\n          dense\r\n          v-model=\"newProjectName\"\r\n          autofocus\r\n          @keyup.enter=\"promptForProject = false\"\r\n        />\r\n      </q-card-section>\r\n\r\n      <q-card-actions align=\"right\" class=\"text-primary\">\r\n        <q-btn flat label=\"Cancel\" v-close-popup />\r\n        <q-btn flat label=\"Create Project\" v-close-popup />\r\n      </q-card-actions>\r\n    </q-card>\r\n  </q-dialog>\r\n\r\n  <exit-dialog :show=\"pendingClick != null\" @hide=\"pendingClick = null\" @confirm=\"pendingClick.click()\"/>\r\n</template>\r\n\r\n<script>\r\nimport ExportAnnotations from \"./ExportAnnotations.vue\";\r\nimport { mapState, mapMutations } from \"vuex\";\r\nimport { exportFile } from \"./utils\";\r\nimport { useQuasar } from \"quasar\";\r\nimport AboutDialog from \"../AboutDialog.vue\";\r\nimport ExitDialog from \"../ExitDialog.vue\";\r\n\r\nexport default {\r\n  components: { ExportAnnotations, AboutDialog, ExitDialog },\r\n  name: \"MenuBar\",\r\n  setup() {\r\n    const $q = useQuasar();\r\n    return {\r\n      notify(icon, message, level) {\r\n        $q.notify({\r\n          icon,\r\n          message,\r\n          color: level,\r\n          position: \"top\",\r\n          timeout: 2000,\r\n          actions: [\r\n            {\r\n              label: \"Dismiss\",\r\n              color: \"white\",\r\n            },\r\n          ],\r\n        });\r\n      },\r\n    };\r\n  },\r\n  data: function() {\r\n    return {\r\n      promptForProject: false,\r\n      newProjectName: \"\",\r\n      showAbout: false,\r\n      pendingClick: null,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState([\"annotations\", \"classes\"]),\r\n  },\r\n  methods: {\r\n    ...mapMutations([\"loadClasses\", \"loadAnnotations\", \"setInputSentences\", \"clearAllAnnotations\", \"resetIndex\"]),\r\n    // Funtion that exports the tags to a JSON file\r\n    exportTags: async function() {\r\n      await exportFile(JSON.stringify(this.classes), \"tags.json\");\r\n    },\r\n    importTags: function(e) {\r\n      let file = e.target.files[0];\r\n      let filereader = new FileReader();\r\n      filereader.onload = (ev) => {\r\n        try {\r\n          this.loadClasses(JSON.parse(ev.target.result));\r\n          this.notify(\r\n            \"fa fa-check\",\r\n            `${this.classes.length} Tags imported successfully`,\r\n            \"positive\"\r\n          );\r\n        } catch (e) {\r\n          this.notify(\"fas fa-exclamation-circle\", \"Invalid file\", \"red-6\");\r\n        }\r\n      };\r\n      filereader.readAsText(file);\r\n    },\r\n    openFile: function(e) {\r\n      let file = e.target.files[0];\r\n      let filereader = new FileReader();\r\n      filereader.onload = (ev) => {\r\n        this.setInputSentences(ev.target.result);\r\n        this.clearAllAnnotations();\r\n      };\r\n      filereader.readAsText(file);\r\n      this.resetIndex();\r\n    },\r\n    importAnnotations: function(e) {\r\n      let file = e.target.files[0];\r\n      let filereader = new FileReader();\r\n      filereader.onload = (ev) => {\r\n        try {\r\n          this.loadAnnotations(JSON.parse(ev.target.result));\r\n          this.notify(\r\n            \"fa fa-check\",\r\n            `Annotations imported successfully`,\r\n            \"positive\"\r\n          );\r\n        } catch (e) {\r\n          this.notify(\"fas fa-exclamation-circle\", \"Invalid file\", \"red-6\");\r\n        }\r\n      };\r\n      filereader.readAsText(file);\r\n    },\r\n  },\r\n};\r\n</script>\r\n"],"mappings":"AAuKA,OAAOA,iBAAgB,MAAO,yBAAyB;AACvD,SAASC,QAAQ,EAAEC,YAAW,QAAS,MAAM;AAC7C,SAASC,UAAS,QAAS,SAAS;AACpC,OAAOC,SAAS,MAAM,sCAAY;AAAA;AAClC,OAAOC,WAAU,MAAO,oBAAoB;AAC5C,OAAOC,UAAS,MAAO,mBAAmB;AAE1C,eAAe;EACbC,UAAU,EAAE;IAAEP,iBAAiB;IAAEK,WAAW;IAAEC;EAAW,CAAC;EAC1DE,IAAI,EAAE,SAAS;EACfC,KAAKA,CAAA,EAAG;IACN,MAAMC,EAAC,GAAIN,SAAS,EAAE;IACtB,OAAO;MACLO,MAAMA,CAACC,IAAI,EAAEC,OAAO,EAAEC,KAAK,EAAE;QAC3BJ,EAAE,CAACC,MAAM,CAAC;UACRC,IAAI;UACJC,OAAO;UACPE,KAAK,EAAED,KAAK;UACZE,QAAQ,EAAE,KAAK;UACfC,OAAO,EAAE,IAAI;UACbC,OAAO,EAAE,CACP;YACEC,KAAK,EAAE,SAAS;YAChBJ,KAAK,EAAE;UACT,CAAC;QAEL,CAAC,CAAC;MACJ;IACF,CAAC;EACH,CAAC;EACDK,IAAI,EAAE,SAAAA,CAAA,EAAW;IACf,OAAO;MACLC,gBAAgB,EAAE,KAAK;MACvBC,cAAc,EAAE,EAAE;MAClBC,SAAS,EAAE,KAAK;MAChBC,YAAY,EAAE;IAChB,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACR,GAAGxB,QAAQ,CAAC,CAAC,aAAa,EAAE,SAAS,CAAC;EACxC,CAAC;EACDyB,OAAO,EAAE;IACP,GAAGxB,YAAY,CAAC,CAAC,aAAa,EAAE,iBAAiB,EAAE,mBAAmB,EAAE,qBAAqB,EAAE,YAAY,CAAC,CAAC;IAC7G;IACAyB,UAAU,EAAE,eAAAA,CAAA,EAAiB;MAC3B,MAAMxB,UAAU,CAACyB,IAAI,CAACC,SAAS,CAAC,IAAI,CAACC,OAAO,CAAC,EAAE,WAAW,CAAC;IAC7D,CAAC;IACDC,UAAU,EAAE,SAAAA,CAASC,CAAC,EAAE;MACtB,IAAIC,IAAG,GAAID,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;MAC5B,IAAIC,UAAS,GAAI,IAAIC,UAAU,EAAE;MACjCD,UAAU,CAACE,MAAK,GAAKC,EAAE,IAAK;QAC1B,IAAI;UACF,IAAI,CAACC,WAAW,CAACZ,IAAI,CAACa,KAAK,CAACF,EAAE,CAACL,MAAM,CAACQ,MAAM,CAAC,CAAC;UAC9C,IAAI,CAAC/B,MAAM,CACT,aAAa,EACZ,GAAE,IAAI,CAACmB,OAAO,CAACa,MAAM,6BAA6B,EACnD,UAAS,CACV;QACH,EAAE,OAAOX,CAAC,EAAE;UACV,IAAI,CAACrB,MAAM,CAAC,2BAA2B,EAAE,cAAc,EAAE,OAAO,CAAC;QACnE;MACF,CAAC;MACDyB,UAAU,CAACQ,UAAU,CAACX,IAAI,CAAC;IAC7B,CAAC;IACDY,QAAQ,EAAE,SAAAA,CAASb,CAAC,EAAE;MACpB,IAAIC,IAAG,GAAID,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;MAC5B,IAAIC,UAAS,GAAI,IAAIC,UAAU,EAAE;MACjCD,UAAU,CAACE,MAAK,GAAKC,EAAE,IAAK;QAC1B,IAAI,CAACO,iBAAiB,CAACP,EAAE,CAACL,MAAM,CAACQ,MAAM,CAAC;QACxC,IAAI,CAACK,mBAAmB,EAAE;MAC5B,CAAC;MACDX,UAAU,CAACQ,UAAU,CAACX,IAAI,CAAC;MAC3B,IAAI,CAACe,UAAU,EAAE;IACnB,CAAC;IACDC,iBAAiB,EAAE,SAAAA,CAASjB,CAAC,EAAE;MAC7B,IAAIC,IAAG,GAAID,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;MAC5B,IAAIC,UAAS,GAAI,IAAIC,UAAU,EAAE;MACjCD,UAAU,CAACE,MAAK,GAAKC,EAAE,IAAK;QAC1B,IAAI;UACF,IAAI,CAACW,eAAe,CAACtB,IAAI,CAACa,KAAK,CAACF,EAAE,CAACL,MAAM,CAACQ,MAAM,CAAC,CAAC;UAClD,IAAI,CAAC/B,MAAM,CACT,aAAa,EACZ,mCAAkC,EACnC,UAAS,CACV;QACH,EAAE,OAAOqB,CAAC,EAAE;UACV,IAAI,CAACrB,MAAM,CAAC,2BAA2B,EAAE,cAAc,EAAE,OAAO,CAAC;QACnE;MACF,CAAC;MACDyB,UAAU,CAACQ,UAAU,CAACX,IAAI,CAAC;IAC7B;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}