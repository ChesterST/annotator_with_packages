{"ast":null,"code":"import { save } from \"@tauri-apps/api/dialog\";\nimport { invoke } from \"@tauri-apps/api/tauri\";\nimport { documentDir } from \"@tauri-apps/api/path\";\nexport const exportFile = async (content, filename) => {\n  if (typeof window.rpc === \"undefined\") {\n    let element = document.createElement(\"a\");\n    element.setAttribute(\"href\", \"data:text/plain;charset=utf-8,\" + encodeURIComponent(content));\n    element.setAttribute(\"download\", filename);\n    element.style.display = \"none\";\n    document.body.appendChild(element);\n    element.click();\n    document.body.removeChild(element);\n  } else {\n    save({\n      defaultPath: await documentDir(),\n      filters: [{\n        extensions: [\"json\"],\n        name: \"JSON Files (*.json)\"\n      }, {\n        name: \"All files (*.*)\",\n        extensions: [\"*\"]\n      }]\n    }).then(path => {\n      if (!path) return;\n      if (!path.match(/.*\\.json$/)) path += \".json\";\n      invoke(\"save_file\", {\n        filepath: path,\n        contents: content\n      }).then(msg => alert(msg)).catch(e => alert(e));\n    }).catch(e => console.log(\"Save cancelled.\", e));\n  }\n};","map":{"version":3,"names":["save","invoke","documentDir","exportFile","content","filename","window","rpc","element","document","createElement","setAttribute","encodeURIComponent","style","display","body","appendChild","click","removeChild","defaultPath","filters","extensions","name","then","path","match","filepath","contents","msg","alert","catch","e","console","log"],"sources":["C:/Users/Filip/GIT_PROJECTS/annotator_with_packages/src/components/menubar/utils.js"],"sourcesContent":["import { save } from \"@tauri-apps/api/dialog\";\r\nimport { invoke } from \"@tauri-apps/api/tauri\";\r\nimport { documentDir } from \"@tauri-apps/api/path\";\r\n\r\nexport const exportFile = async (content, filename) => {\r\n  if (typeof window.rpc === \"undefined\") {\r\n    let element = document.createElement(\"a\");\r\n    element.setAttribute(\r\n      \"href\",\r\n      \"data:text/plain;charset=utf-8,\" + encodeURIComponent(content)\r\n    );\r\n    element.setAttribute(\"download\", filename);\r\n    element.style.display = \"none\";\r\n    document.body.appendChild(element);\r\n    element.click();\r\n    document.body.removeChild(element);\r\n  } else {\r\n    save({\r\n      defaultPath: await documentDir(),\r\n      filters: [\r\n        { extensions: [\"json\"], name: \"JSON Files (*.json)\" },\r\n        { name: \"All files (*.*)\", extensions: [\"*\"] },\r\n      ],\r\n    })\r\n      .then((path) => {\r\n        if (!path) return;\r\n        if (!path.match(/.*\\.json$/)) path += \".json\";\r\n\r\n        invoke(\"save_file\", { filepath: path, contents: content })\r\n          .then((msg) => alert(msg))\r\n          .catch((e) => alert(e));\r\n      })\r\n      .catch((e) => console.log(\"Save cancelled.\", e));\r\n  }\r\n};\r\n"],"mappings":"AAAA,SAASA,IAAI,QAAQ,wBAAwB;AAC7C,SAASC,MAAM,QAAQ,uBAAuB;AAC9C,SAASC,WAAW,QAAQ,sBAAsB;AAElD,OAAO,MAAMC,UAAU,GAAG,MAAAA,CAAOC,OAAO,EAAEC,QAAQ,KAAK;EACrD,IAAI,OAAOC,MAAM,CAACC,GAAG,KAAK,WAAW,EAAE;IACrC,IAAIC,OAAO,GAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;IACzCF,OAAO,CAACG,YAAY,CAClB,MAAM,EACN,gCAAgC,GAAGC,kBAAkB,CAACR,OAAO,CAAC,CAC/D;IACDI,OAAO,CAACG,YAAY,CAAC,UAAU,EAAEN,QAAQ,CAAC;IAC1CG,OAAO,CAACK,KAAK,CAACC,OAAO,GAAG,MAAM;IAC9BL,QAAQ,CAACM,IAAI,CAACC,WAAW,CAACR,OAAO,CAAC;IAClCA,OAAO,CAACS,KAAK,EAAE;IACfR,QAAQ,CAACM,IAAI,CAACG,WAAW,CAACV,OAAO,CAAC;EACpC,CAAC,MAAM;IACLR,IAAI,CAAC;MACHmB,WAAW,EAAE,MAAMjB,WAAW,EAAE;MAChCkB,OAAO,EAAE,CACP;QAAEC,UAAU,EAAE,CAAC,MAAM,CAAC;QAAEC,IAAI,EAAE;MAAsB,CAAC,EACrD;QAAEA,IAAI,EAAE,iBAAiB;QAAED,UAAU,EAAE,CAAC,GAAG;MAAE,CAAC;IAElD,CAAC,CAAC,CACCE,IAAI,CAAEC,IAAI,IAAK;MACd,IAAI,CAACA,IAAI,EAAE;MACX,IAAI,CAACA,IAAI,CAACC,KAAK,CAAC,WAAW,CAAC,EAAED,IAAI,IAAI,OAAO;MAE7CvB,MAAM,CAAC,WAAW,EAAE;QAAEyB,QAAQ,EAAEF,IAAI;QAAEG,QAAQ,EAAEvB;MAAQ,CAAC,CAAC,CACvDmB,IAAI,CAAEK,GAAG,IAAKC,KAAK,CAACD,GAAG,CAAC,CAAC,CACzBE,KAAK,CAAEC,CAAC,IAAKF,KAAK,CAACE,CAAC,CAAC,CAAC;IAC3B,CAAC,CAAC,CACDD,KAAK,CAAEC,CAAC,IAAKC,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEF,CAAC,CAAC,CAAC;EACpD;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}